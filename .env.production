# =============================================================================
# XRAK 生产环境配置
# =============================================================================
# 此文件用于生产环境部署，包含生产环境优化的配置值

# =============================================================================
# 基础应用配置
# =============================================================================

NEXT_PUBLIC_APP_NAME=XRAK
NEXT_PUBLIC_APP_VERSION=1.0.0
NODE_ENV=production
NEXT_PUBLIC_BASE_URL=http://192.168.1.137:8000

# =============================================================================
# API 配置
# =============================================================================

NEXT_PUBLIC_API_BASE_URL=http://192.168.1.137:8000/api
BLOG_API_URL=http://192.168.1.137:8000/api/blog-data
API_TIMEOUT=15000
API_MAX_RETRIES=3

# =============================================================================
# ISR 配置 - 生产环境优化
# =============================================================================

# 生产环境使用较长的重新验证时间以减少服务器负载
ISR_REVALIDATE_TIME=3600
ISR_STALE_TIME=7200
ISR_ENABLE_ON_DEMAND=true
ISR_MAX_RETRIES=5
ISR_RETRY_DELAY=2000

# 生产环境启用构建时预加载
ISR_BUILD_PRELOAD=true
ISR_PRELOAD_CATEGORIES=tech,architecture,frontend,news,project
ISR_PRELOAD_MAX_ARTICLES=20

# 生产环境启用运行时更新和后台更新
ISR_RUNTIME_UPDATE=true
ISR_UPDATE_INTERVAL=600
ISR_BACKGROUND_UPDATE=true
ISR_WEBHOOK_SECRET=your-secure-webhook-secret-here

# =============================================================================
# 缓存配置
# =============================================================================

# 生产环境使用内存缓存
MEMORY_CACHE_MAX_SIZE=200
MEMORY_CACHE_TTL=7200

# =============================================================================
# 图片优化配置
# =============================================================================

IMAGE_REVALIDATE_TIME=86400
IMAGE_STALE_TIME=604800
IMAGE_MAX_AGE=31536000
IMAGE_QUALITY=85
IMAGE_FORMATS=webp,avif,jpeg,png

# =============================================================================
# 开发工具配置
# =============================================================================

DEBUG=false
SHOW_DETAILED_ERRORS=false
ENABLE_HOT_RELOAD=false
LOG_LEVEL=warn

# =============================================================================
# 特性开关
# =============================================================================

ENABLE_EXPERIMENTAL_FEATURES=false
ENABLE_PWA=true
ENABLE_OFFLINE_SUPPORT=true
ENABLE_I18N=true
DEFAULT_LOCALE=zh-CN

# =============================================================================
# 构建配置
# =============================================================================

ANALYZE_BUNDLE=false
ENABLE_SOURCE_MAPS=false
BUILD_OUTPUT_DIR=.next